name: Build Containers for ARM64 & AMD64 Linux

on:
  workflow_dispatch: {}
  push:
    paths:
      - ".github/workflows/build-container.yaml"
      - ".github/workflows/build-containers.yaml"
      - "Dockerfile"
      - ".dockerignore"
      - "**/Project.toml"
      - "**/Manifest.toml"
      - "**/environment.yml"

jobs:
  docker-amd64:
    name: "Build for Docker on arm64 machines"
    uses: "./.github/workflows/build-container.yaml"
    with:
      arch: amd64

  docker-arm64:
    name: "Build for Docker on amd64 machines"
    uses: "./.github/workflows/build-container.yaml"
    with:
      arch: arm64
